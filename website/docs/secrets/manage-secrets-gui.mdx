---
title: Manage Secrets GUI
hide_title: true
---


# Manage Secrets GUI

At Weave GitOps Enterprise (WGE), we support two approaches for creating and managing secrets: ExternalSecrets Operator (ESO) and SOPS. In this guide, we will provide an overview of both approaches and explain how to use the Manage Secrets GUI to create and manage secrets.

![Secrets Overview](./imgs/secretes-overview-1.png)

## External Secrets (ESO)

### Create External Secret CR (ESO)

To create a new ExternalSecret CR, start by click on to the 'Create A Secret' button to navigate to the Creation page.

![Create new Secret](./imgs/create-secret-1.png)

Here, you will be prompted to enter the 'External Secret Name' and the 'Target K8s Secret Name'. Once you choose the 'Target Cluster', you will find a new list of all the 'Secret Stores' on this cluster to choose from.

It's important to note that the chosen Secret Store may be a 'Cluster SecretStore' or a namespace scoped 'SecretStore'. 

![Create new Secret](./imgs/create-secret-2.png)
If you choose a namespace scoped SecretStore, the new secret will be created on the same namespace as the SecretStore.

![Create new Secret](./imgs/create-secret-3.png)
However, if you choose a ClusterSecretStore, you will have to enter the namespace in which the secret will be created.


This process allows you to easily create new ExternalSecret CRs without needing to manually create them through YAML files or command line tools.

### List External Secrets (ESO)

![Secrets list](./imgs/secrets-overview-2.png)

The List External Secrets section of the Manage Secrets GUI allows you to view all the external secrets that are currently stored in your Kubernetes cluster. This section provides an overview of each external secret, including its name, namespace, cluster, k8s-secret, secret-store and the Age. From this page, you can also navigate to the External Secret Details page to view more information about a specific secret.


### External Secret Details (ESO)

![External Secret Details](./imgs/eso-details-1.png)

The External Secret Details section of the Manage Secrets GUI allows you to view the details of a specific external secret, including its name, namespace, data, and creation date. Below are the details that you can expect to see on this page:

- **Status:** This indicates the current status of the external secret, which can be "Ready" or "Not Ready" depending on whether the external secret has been successfully created and is ready for use.

- **Last Updated:** This shows the date and time when the external secret was last updated.

- **External Secret:** This is the name of the external secret that you are viewing.

- **K8s Secret:** This is the name of the Kubernetes secret that is associated with the external secret.

- **Cluster:** This indicates whether the external secret is scoped to a specific namespace or to the entire cluster.

- **Secret Store:** This shows the name of the secret store provider that is being used to store the external secret.

- **Secret Store Type:** This indicates the type of secret store that is being used to store the external secret. In this case, the type is "AWS Secrets Manager".

- **Secret path:** This is the path to the external secret within the cluster.

- **Property:** This is the property or key that is associated with the external secret.

- **Version:** This shows the version of the external secret, which may be blank if no version has been specified.

Understanding the information provided on the External Secret Details page can help you to manage and troubleshoot your external secrets as needed.


### Understanding Events

![External Secret Events](./imgs/external-secret-events-1.png)

The following events can be expected when using the Manage Secrets GUI to manage external secrets:

- **Updated:** This event indicates that an existing external secret has been successfully updated with new data.

- **Not Ready:** This event indicates that there was an issue with the secret store when trying to access or synchronize external secrets. This includes situations such as the secret store being unavailable or not ready to handle requests, or issues with authentication when trying to access the secret store.

Understanding these events can help you to troubleshoot issues that may arise when managing external secrets using the Manage Secrets GUI. In particular, if you encounter a "Not Ready" event, you may need to check your secret store credentials and ensure that the secret store is operational before proceeding with any further actions.

### Sync External Secrets

Once you have created an External Secret, it is important to keep it up to date with the latest changes in the corresponding external secret manager. This can be achieved by syncing the External Secret with its source using the Sync feature provided by WeaveWorks Enterprise.

To sync an External Secret, navigate to the List External Secrets page and select the External Secret you want to sync. Once you are on the External Secret Details page, click on the Sync button on the top left corner of the page. This will trigger a sync operation for the selected External Secret.

It is important to note that syncing an External Secret triggers a refresh operation for the associated K8s Secret as well. This means that any updates made to the external secret manager will be immediately reflected in the K8s Secret associated with the External Secret, without waiting for the refresh interval.

## SOPS

### Getting Started with SOPS

[SOPS](https://github.com/mozilla/sops#usage) provides an encryption mechanism for YAML files that are stored in Git repositories. SOPS allows users to encrypt secrets within YAML files, and decrypt them when they are needed.


### Create SOPS Secret


### Prerequisites

To follow this guide youâ€™ll need a kustomization object contains your public key. Please see the [get started guide](//url-for-create-kustomize).

To create a new SOPS secret, start by clicking on the "Create new sops secret" button.

![Secrets Overview](./imgs/secretes-overview-1.png)

This will open the create form where you can specify the details of your new secret. First, choose the cluster where you want to create the secret. Then, enter a name for your secret and select the namespace where it will be created. 

![Create Secret SOPS](./imgs/create-secret-sops.png)

 Next, select the encryption method that you want to use - currently, only GPG/AGE encryption is supported. Finally, choose the kustomization that will be used by SOPS to decrypt the secret. And then add your key value pairs of your secrets.

 The generated secret should be something like below.

 ![Create Secret SOPS PR](./imgs/sops-secret-pr.png).

After you have approved the generated SOPS secret pull request, Flux will reconcile it and sync it with your cluster. To verify that the secret has been successfully created, you can use the following command to retrieve it as YAML:

```bash
kubectl get secret secretTest-default-sops-secret -n default -o yaml
```
This will output the secret in YAML format, similar to the following:
```yaml
apiVersion: v1
data:
  secret-1: dmFsCg==
kind: Secret
metadata:
  name: secretTest-default-sops-secret
  namespace: default
type: Opaque
```